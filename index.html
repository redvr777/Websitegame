<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fusion Menu</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=MedievalSharp&display=swap" rel="stylesheet">
<style>
  :root {
    --medieval-bg1: #3e2a15;
    --medieval-bg2: #0b0b0b;
    --backrooms-bg1: #fdf589;
    --backrooms-bg2: #c9c255;
    --accent-medieval: #ffdca8;
    --accent-backrooms: #111;
  }

  body {
    margin: 0;
    font-family: 'Press Start 2P', monospace;
    background: linear-gradient(135deg, var(--medieval-bg2) 0%, var(--medieval-bg1) 45%, var(--backrooms-bg1) 55%, var(--backrooms-bg2) 100%);
    color: var(--accent-medieval);
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
  }

  canvas {
    position: absolute;
    top: 0; left: 0;
    z-index: 0;
    width: 100%;
    height: 100%;
    display: block;
    pointer-events: none;
  }

  .container {
    text-align: center;
    position: relative;
    z-index: 1;
    transition: transform 0.1s ease-out;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 2rem;
    font-family: 'MedievalSharp', cursive;
    background: linear-gradient(to right, #ffdca8 50%, #111 50%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 2px 2px rgba(255,220,168,0.5), -2px -2px rgba(0,0,0,0.4);
    animation: flicker 2s infinite;
  }

  /* Fusion button */
  .btn {
    display: block;
    margin: 20px auto;
    padding: 15px 30px;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 12px;
    text-decoration: none;
    transition: transform 0.2s, background 0.2s, box-shadow 0.2s;
  }

  .btn-fusion {
    font-family: 'Press Start 2P', monospace;
    border: 3px solid #b58350;
    background: linear-gradient(90deg, #3e2a15 0%, #5a3c1f 50%, #fdf589 50%, #c9c255 100%);
    color: #ffdca8;
    text-shadow: 0 0 8px rgba(255,220,168,0.8);
    box-shadow: 0 0 15px rgba(255,220,120,0.4), inset 0 0 10px rgba(0,0,0,0.4);
  }

  .btn-fusion:hover {
    transform: scale(1.08);
    background: linear-gradient(90deg, #b58350 0%, #e6b873 50%, #e6e068 50%, #fdf589 100%);
    color: #111;
    text-shadow: 0 0 6px rgba(255,255,200,0.8);
    box-shadow: 0 0 20px rgba(255,255,180,0.7), inset 0 0 12px rgba(0,0,0,0.6);
  }

  /* Flicker animation */
  @keyframes flicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.7; }
  }
</style>
</head>
<body>
  <canvas id="particles"></canvas>

  <div class="container">
    <h1>MAIN MENU</h1>
    <a href="/hollowspire" class="btn btn-fusion">HOLLOW SPIRE</a>
    <a href="/backrooms" class="btn btn-fusion">BACKROOMS</a>
  </div>

<script>
  const container = document.querySelector('.container');

  // Parallax
  document.addEventListener('mousemove', (e) => {
    let x = (e.clientX - window.innerWidth / 2) / 40;
    let y = (e.clientY - window.innerHeight / 2) / 40;
    container.style.transform = `translate(${x}px, ${y}px)`;
  });

  // Random flicker
  function randomFlicker() {
    document.querySelectorAll('.btn, h1').forEach(el => {
      el.style.opacity = Math.random() > 0.8 ? "0.85" : "1";
    });
  }
  setInterval(randomFlicker, 200);

  // Particle system with half medieval/half backrooms
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let particles = [];
  for (let i = 0; i < 120; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      radius: Math.random() * 2 + 1,
      dx: (Math.random() - 0.5) * 0.6,
      dy: (Math.random() - 0.5) * 0.6,
    });
  }

  function drawParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      ctx.beginPath();
      // Medieval side (left)
      if (p.x < canvas.width / 2) {
        ctx.fillStyle = "#ffdca8";
      } else {
        ctx.fillStyle = "#c9c255"; // Backrooms yellow
      }
      ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
      ctx.fill();
      p.x += p.dx;
      p.y += p.dy;

      if (p.x < 0) p.x = canvas.width;
      if (p.x > canvas.width) p.x = 0;
      if (p.y < 0) p.y = canvas.height;
      if (p.y > canvas.height) p.y = 0;
    });
    requestAnimationFrame(drawParticles);
  }
  drawParticles();

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
</script>
</body>
</html>
